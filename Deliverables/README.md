# Deliverables

This directory contains the deliverables for the project. 

1. **SUT Database Backup:**
After preparing the testing environment as described in the assignment instructions, you need to download a backup of the PrestaShop database and save it in this directory as `prestashop_db_backup.sql.gz`. See the assignment instructions for more details.
2. **CTD Files:**
This directory should also contain the CTD files generated by the ACTS tool. These include:
   1. The CTD model in a file named [prestashop.xml](/Deliverables/CTD/prestashop.xml).
   2. A screenshot of the CTD parameters in a file named [prestashop_model_parameters.png](/Deliverables/CTD/prestashop_model_parameters.png). Make sure the screenshot clearly shows all parameters and their values.
   3. A screenshot of the CTD constraints in a file named [prestashop_model_constraints.png](/Deliverables/CTD/prestashop_model_constraints.png). Make sure the screenshot clearly shows all constraints.
   4. The generated pairwise test suite in a file named [prestashop_tests.csv](/Deliverables/CTD/prestashop_tests.csv).
   5. A screenshot of the pairwise test suite in a file named [prestashop_tests.png](/Deliverables/CTD/prestashop_tests.png).
3. **Cucumber:**
The [Cucumber directory](/Cucumber) should contain all the deliverables related to the Cucumber testing method, including:
   1. The feature files.
   2. The step definitions.
   3. Any additional files or resources used in the Cucumber tests.
4. A video file named [prestashop_testing_demo.mp4](prestashop_testing_demo.mp4) demonstrating the execution of the Cucumber tests on the PrestaShop SUT. Place this file in the Deliverables directory.
5. Change the following sections in this README.md file to reflect your work.
6. Commit and push all the changes to your GitHub repository.
7. Submit a single txt file named `submission.txt` to the assignment page in Moodle. The file should contain the link to your GitHub repository.

## How we prepared the SUT environment
To facilitate system testing, we configured the PrestaShop environment with specific entities, user groups, and pricing rules to cover all requirements of the user story.

**1. Customer Groups & Users:**
* **VIP Group:** Configured with a default **15% discount** on all items.
* **Registered/Customer Group:** Configured with **0% discount** (baseline).
* **Test Users:** Created `vip_user@testing.com` (assigned to VIP group) and `standard_user@testing.com` (assigned to Customer group).

**2. Carriers & Shipping Restrictions:**
* **Carriers:** We renamed the default carriers to "Standard Shipping" and "Express Shipping" and added a third option, "Click and Collect".
* **Constraints:** We modified the "Express Shipping" settings to **exclude the North America zone** (simulating availability restrictions).

**3. Pricing & Discount Rules:**
We applied specific pricing rules to a target product (e.g., Hummingbird T-shirt) to test interaction priority:
* **VIP Specific Price:** A **20% discount** rule applied specifically to the VIP group (testing if this overrides the group default).
* **Bulk Discount:** A **10% discount** applied to all groups when `Quantity >= 3`.
* **Fixed Discount:** A **5.00 flat discount** for Guests/Registered users (verifying distinct pricing per user type).
* **Cart Rules:** Created a coupon code `SAVE10` providing a **10% cart-level discount**.


## Explanation of the CTD model
We used the **ACTS (Advanced Combinatorial Testing System)** tool to model the checkout flow. The model ensures pairwise (2-way) coverage of all critical parameters that affect the final price and user flow.

### Parameters
We defined the following 5 parameters to represent the variable inputs in the checkout user story:

| Parameter | Type | Values | Description |
| :--- | :--- | :--- | :--- |
| **CustomerType** | Enum | `Visitor`, `Guest`, `Registered`, `VIP` | Represents the user's login status. `VIP` triggers specific group discounts; `Visitor/Guest` test the non-login flow. |
| **Quantity** | Enum | `1`, `3` | `1` is the base case. `3` triggers the "High Quantity" bulk discount rule configured in the SUT. |
| **Country** | Enum | `USA`, `France`, `United Kingdom` | Determines tax rates and shipping availability. `USA` represents North America (Restricted zone); `France` represents the EU; `UK` represents non-EU Europe. |
| **Carrier** | Enum | `Standard Shipping`, `Express Shipping`, `Click and Collect` | The available shipping methods, dependent on the selected Country. |
| **Coupon** | Enum | `None`, `SAVE10` | Tests the application of cart rules on top of product-level discounts. |

### Constraints
We applied 2 logical constraints to prevent the generation of invalid test scenarios (combinations that are impossible in the real SUT):

1.  **USA Shipping Restriction:** `(Country == "USA") => (Carrier != "Express Shipping")`
    * *Reasoning:* In our SUT configuration, "Express Shipping" is disabled for the North America zone (USA). A user from the USA cannot physically select this option.
2.  **UK Shipping Restriction:** `(Country == "United Kingdom") => (Carrier != "Click and Collect")`
    * *Reasoning:* "Click and Collect" is restricted to EU member zones. Since the UK is treated as a non-EU member in our setup, this option is unavailable.


## Grouping of the CTD test cases
We grouped the generated test cases based on their execution flow in the Cucumber tests.

| Group ID | Description | Tests IDs |
| :--- | :--- | :--- |
| **A** | **Guest and Registered users: Standard pricing flow**<br>Standard checkout sequence (Add to cart → Checkout → Pay). Verifies Coupons and Bulk discounts without VIP group rules. | 1, 2, 3, 4, 5, 6, 10 |
| **B** | **VIP users: Automatic discount flow**<br>Verifies that the VIP Group discount (15%) or Specific Price (20%) is automatically applied and displayed correctly before checkout. | 7, 8, 9 |
| **C** | **Restricted Shipping Flow**<br>Scenarios where specific shipping options (Express or Click & Collect) are hidden due to Country restrictions (USA/UK). | *(Add IDs where Country=USA or UK)* |

## Explanation of the Cucumber tests
In this section, provide a detailed explanation of the Cucumber tests you implemented. Describe the features you tested, the scenarios you created, and how they relate to the user stories you are testing. Explain the rationale behind your test cases and how they cover the functionalities of PrestaShop. 

## Detected Bugs
If you detected any bugs during your testing, provide a detailed description of each bug here. Include the general description, steps to reproduce, expected result, actual result, and a link to the bug report if applicable. If you did not detect any bugs, you can simply state that no bugs were found during the testing process.

An example format for reporting bugs is provided below:

We detected the following bugs:
1. Bug 1:
   1. General description: ...
   2. Steps to reproduce: ...
   3. Expected result: ...
   4. Actual result: ...
   5. Link to the bug report: (you are encouraged to report the bug to the developers of the software)
2. Bug 2: ...

















| Group ID | Description | Tests IDs |
| :--- | :--- | :--- |
| **A** | **Guest and Registered users: Standard pricing flow**<br>Same checkout sequence (Add to cart → Checkout → Pay). Includes testing of Coupons, Taxes, and Shipping costs without auto-applied group discounts. | **1, 2, 3, 4, 5, 6, 10** |
| **B** | **VIP users: Automatic discount flow**<br>Requires verification that the 10% VIP Group discount is automatically applied to the final price *before* other calculations. | **7, 8, 9** |
